# AAS 사용법

##  기본적으로는 비슷함

---

## refresh.sh
*  새롭게 시작해주는 함수

1.  네트워크를 다운시키고 모든 자료 삭제
2.  cryptogen을 이용해 yaml을 이용해 암호화 파일 생성
3.  도커 이미지를 올리고 실행
4.  블록체인 네트워크 생성/채널 생성/채널 가입까지 완료
5.  installChaincode를 실행해 각 채널에 chaincode/ 아래 디렉토리의 체인코드들을 패키징 및 각 조직에 체인코드 설치
<br/>이때  각 채널에 맞는 체인코드가 설치됨

 **여기까지가 refresh.sh.**

    그냥 네트워크 다시 실행시키고 싶으면 이거 쓰면 편함
    지금 policy가 어떻게 될지 난 몰라서 그건 남겨뒀음

    CC_commit.sh를 실행시키면 체인코드가 서로 동의하는 과정 나오고 승인떨어질거임

    테스트로 체인코드 만들고 실험할 때는 test.sh파일로 하면 댐
    setGlobals 로 어떤 조직에서 실행할건지 하고 
    아래 channel 하고 name  , 즉 -c 나 -n을 tax면 revenue , koreapower이면 market을 사용하면 댐
    buyer / seller은 지금 당장 안될거임 체인코드 설치할 때 ccep - 하고 정책을 줘야하는데 그부분 안해둠

---
##  AAS.sh사용법

### 1.  AAS.sh crypto

organization/cryptogen의 yaml파일들을 이용해서 암호화 파일 생성

### 2.  AAS.sh up

네트워크를 생성하고 도커 컨테이너 생성

-s couchdb를 사용하면 couch를 사용한 컨테이너 생성

### 3.  AAS.sh set

**!도커 컨테이너들이 실행되는 상태에서 해야함**

채널 생성

각 조직을 채널에 가입

각 조직의 앵커피어 설정

### 4. AAS.sh install_CC

이거는 이름이 좀 낚시인데 체인코드 완전 설치해주는게 아니라 
<br>
체인코드를 패키징하고 설치까지만 함 커밋은 안해줌

---
##  CC_commit.sh

이게 완전 설치해주는거
각 채널의 조직들의 승인을 받아 체인코드를 활성화 시킴

이거 되면 체인코드별로 도커 컨테이너가 하나씩 더 올라가야 함



